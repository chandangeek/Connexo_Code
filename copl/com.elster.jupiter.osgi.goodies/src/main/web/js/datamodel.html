<!--
  ~ Copyright (c) 2017 by Honeywell International Inc. All Rights Reserved
  -->

<script type="text/javascript"><!--
$(document).ready(function(){
	$.getJSON('/api/goodies/datamodels' , function(response) {		
		var selectField = $('#graph_name').get(0);
		response.forEach( function (element) {
			selectField.options[selectField.length]= new Option(element.name + ': ' + element.description , element.name);
		});
		load_graph();
	});
});

function load_graph() {
	var div = $('#depimg').get(0);
	var selectField = $('#graph_name').get(0);
	var link = '<object type="image/svg+xml" data="/api/goodies/datamodels/';
	link += selectField.options[selectField.selectedIndex].value + '.svg"></object>'
	div.innerHTML = link;
}

//--> </script>	
<form action="javascript:void(0)" id="graph_form">
<select name="graph_name" id="graph_name" onchange="load_graph()"></select>
</form>
<div id="depimg"></div>